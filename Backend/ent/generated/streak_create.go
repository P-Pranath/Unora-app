// Code generated by ent, DO NOT EDIT.

package generated

import (
	"context"
	"errors"
	"fmt"
	"time"

	"entgo.io/ent/dialect"
	"entgo.io/ent/dialect/sql"
	"entgo.io/ent/dialect/sql/sqlgraph"
	"entgo.io/ent/schema/field"
	"github.com/UnoraApp/be/ent/generated/checkin"
	"github.com/UnoraApp/be/ent/generated/connection"
	"github.com/UnoraApp/be/ent/generated/nudge"
	"github.com/UnoraApp/be/ent/generated/streak"
	"github.com/UnoraApp/be/ent/generated/user"
)

// StreakCreate is the builder for creating a Streak entity.
type StreakCreate struct {
	config
	mutation *StreakMutation
	hooks    []Hook
	conflict []sql.ConflictOption
}

// SetConnectionID sets the "connection_id" field.
func (_c *StreakCreate) SetConnectionID(v string) *StreakCreate {
	_c.mutation.SetConnectionID(v)
	return _c
}

// SetStreakState sets the "streak_state" field.
func (_c *StreakCreate) SetStreakState(v streak.StreakState) *StreakCreate {
	_c.mutation.SetStreakState(v)
	return _c
}

// SetNillableStreakState sets the "streak_state" field if the given value is not nil.
func (_c *StreakCreate) SetNillableStreakState(v *streak.StreakState) *StreakCreate {
	if v != nil {
		_c.SetStreakState(*v)
	}
	return _c
}

// SetCurrentDay sets the "current_day" field.
func (_c *StreakCreate) SetCurrentDay(v int) *StreakCreate {
	_c.mutation.SetCurrentDay(v)
	return _c
}

// SetNillableCurrentDay sets the "current_day" field if the given value is not nil.
func (_c *StreakCreate) SetNillableCurrentDay(v *int) *StreakCreate {
	if v != nil {
		_c.SetCurrentDay(*v)
	}
	return _c
}

// SetResetCount sets the "reset_count" field.
func (_c *StreakCreate) SetResetCount(v int) *StreakCreate {
	_c.mutation.SetResetCount(v)
	return _c
}

// SetNillableResetCount sets the "reset_count" field if the given value is not nil.
func (_c *StreakCreate) SetNillableResetCount(v *int) *StreakCreate {
	if v != nil {
		_c.SetResetCount(*v)
	}
	return _c
}

// SetBreakerUserID sets the "breaker_user_id" field.
func (_c *StreakCreate) SetBreakerUserID(v string) *StreakCreate {
	_c.mutation.SetBreakerUserID(v)
	return _c
}

// SetNillableBreakerUserID sets the "breaker_user_id" field if the given value is not nil.
func (_c *StreakCreate) SetNillableBreakerUserID(v *string) *StreakCreate {
	if v != nil {
		_c.SetBreakerUserID(*v)
	}
	return _c
}

// SetRecoveryDeadlineAt sets the "recovery_deadline_at" field.
func (_c *StreakCreate) SetRecoveryDeadlineAt(v time.Time) *StreakCreate {
	_c.mutation.SetRecoveryDeadlineAt(v)
	return _c
}

// SetNillableRecoveryDeadlineAt sets the "recovery_deadline_at" field if the given value is not nil.
func (_c *StreakCreate) SetNillableRecoveryDeadlineAt(v *time.Time) *StreakCreate {
	if v != nil {
		_c.SetRecoveryDeadlineAt(*v)
	}
	return _c
}

// SetRecoveryPaymentID sets the "recovery_payment_id" field.
func (_c *StreakCreate) SetRecoveryPaymentID(v string) *StreakCreate {
	_c.mutation.SetRecoveryPaymentID(v)
	return _c
}

// SetNillableRecoveryPaymentID sets the "recovery_payment_id" field if the given value is not nil.
func (_c *StreakCreate) SetNillableRecoveryPaymentID(v *string) *StreakCreate {
	if v != nil {
		_c.SetRecoveryPaymentID(*v)
	}
	return _c
}

// SetStreakHealthScore sets the "streak_health_score" field.
func (_c *StreakCreate) SetStreakHealthScore(v float64) *StreakCreate {
	_c.mutation.SetStreakHealthScore(v)
	return _c
}

// SetNillableStreakHealthScore sets the "streak_health_score" field if the given value is not nil.
func (_c *StreakCreate) SetNillableStreakHealthScore(v *float64) *StreakCreate {
	if v != nil {
		_c.SetStreakHealthScore(*v)
	}
	return _c
}

// SetCreatedAt sets the "created_at" field.
func (_c *StreakCreate) SetCreatedAt(v time.Time) *StreakCreate {
	_c.mutation.SetCreatedAt(v)
	return _c
}

// SetNillableCreatedAt sets the "created_at" field if the given value is not nil.
func (_c *StreakCreate) SetNillableCreatedAt(v *time.Time) *StreakCreate {
	if v != nil {
		_c.SetCreatedAt(*v)
	}
	return _c
}

// SetUpdatedAt sets the "updated_at" field.
func (_c *StreakCreate) SetUpdatedAt(v time.Time) *StreakCreate {
	_c.mutation.SetUpdatedAt(v)
	return _c
}

// SetNillableUpdatedAt sets the "updated_at" field if the given value is not nil.
func (_c *StreakCreate) SetNillableUpdatedAt(v *time.Time) *StreakCreate {
	if v != nil {
		_c.SetUpdatedAt(*v)
	}
	return _c
}

// SetCompletedAt sets the "completed_at" field.
func (_c *StreakCreate) SetCompletedAt(v time.Time) *StreakCreate {
	_c.mutation.SetCompletedAt(v)
	return _c
}

// SetNillableCompletedAt sets the "completed_at" field if the given value is not nil.
func (_c *StreakCreate) SetNillableCompletedAt(v *time.Time) *StreakCreate {
	if v != nil {
		_c.SetCompletedAt(*v)
	}
	return _c
}

// SetDeletedAt sets the "deleted_at" field.
func (_c *StreakCreate) SetDeletedAt(v time.Time) *StreakCreate {
	_c.mutation.SetDeletedAt(v)
	return _c
}

// SetNillableDeletedAt sets the "deleted_at" field if the given value is not nil.
func (_c *StreakCreate) SetNillableDeletedAt(v *time.Time) *StreakCreate {
	if v != nil {
		_c.SetDeletedAt(*v)
	}
	return _c
}

// SetID sets the "id" field.
func (_c *StreakCreate) SetID(v string) *StreakCreate {
	_c.mutation.SetID(v)
	return _c
}

// SetConnection sets the "connection" edge to the Connection entity.
func (_c *StreakCreate) SetConnection(v *Connection) *StreakCreate {
	return _c.SetConnectionID(v.ID)
}

// SetBreakerID sets the "breaker" edge to the User entity by ID.
func (_c *StreakCreate) SetBreakerID(id string) *StreakCreate {
	_c.mutation.SetBreakerID(id)
	return _c
}

// SetNillableBreakerID sets the "breaker" edge to the User entity by ID if the given value is not nil.
func (_c *StreakCreate) SetNillableBreakerID(id *string) *StreakCreate {
	if id != nil {
		_c = _c.SetBreakerID(*id)
	}
	return _c
}

// SetBreaker sets the "breaker" edge to the User entity.
func (_c *StreakCreate) SetBreaker(v *User) *StreakCreate {
	return _c.SetBreakerID(v.ID)
}

// AddCheckInIDs adds the "check_ins" edge to the CheckIn entity by IDs.
func (_c *StreakCreate) AddCheckInIDs(ids ...string) *StreakCreate {
	_c.mutation.AddCheckInIDs(ids...)
	return _c
}

// AddCheckIns adds the "check_ins" edges to the CheckIn entity.
func (_c *StreakCreate) AddCheckIns(v ...*CheckIn) *StreakCreate {
	ids := make([]string, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _c.AddCheckInIDs(ids...)
}

// AddNudgeIDs adds the "nudges" edge to the Nudge entity by IDs.
func (_c *StreakCreate) AddNudgeIDs(ids ...string) *StreakCreate {
	_c.mutation.AddNudgeIDs(ids...)
	return _c
}

// AddNudges adds the "nudges" edges to the Nudge entity.
func (_c *StreakCreate) AddNudges(v ...*Nudge) *StreakCreate {
	ids := make([]string, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _c.AddNudgeIDs(ids...)
}

// Mutation returns the StreakMutation object of the builder.
func (_c *StreakCreate) Mutation() *StreakMutation {
	return _c.mutation
}

// Save creates the Streak in the database.
func (_c *StreakCreate) Save(ctx context.Context) (*Streak, error) {
	_c.defaults()
	return withHooks(ctx, _c.sqlSave, _c.mutation, _c.hooks)
}

// SaveX calls Save and panics if Save returns an error.
func (_c *StreakCreate) SaveX(ctx context.Context) *Streak {
	v, err := _c.Save(ctx)
	if err != nil {
		panic(err)
	}
	return v
}

// Exec executes the query.
func (_c *StreakCreate) Exec(ctx context.Context) error {
	_, err := _c.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_c *StreakCreate) ExecX(ctx context.Context) {
	if err := _c.Exec(ctx); err != nil {
		panic(err)
	}
}

// defaults sets the default values of the builder before save.
func (_c *StreakCreate) defaults() {
	if _, ok := _c.mutation.StreakState(); !ok {
		v := streak.DefaultStreakState
		_c.mutation.SetStreakState(v)
	}
	if _, ok := _c.mutation.CurrentDay(); !ok {
		v := streak.DefaultCurrentDay
		_c.mutation.SetCurrentDay(v)
	}
	if _, ok := _c.mutation.ResetCount(); !ok {
		v := streak.DefaultResetCount
		_c.mutation.SetResetCount(v)
	}
	if _, ok := _c.mutation.CreatedAt(); !ok {
		v := streak.DefaultCreatedAt()
		_c.mutation.SetCreatedAt(v)
	}
	if _, ok := _c.mutation.UpdatedAt(); !ok {
		v := streak.DefaultUpdatedAt()
		_c.mutation.SetUpdatedAt(v)
	}
}

// check runs all checks and user-defined validators on the builder.
func (_c *StreakCreate) check() error {
	if _, ok := _c.mutation.ConnectionID(); !ok {
		return &ValidationError{Name: "connection_id", err: errors.New(`generated: missing required field "Streak.connection_id"`)}
	}
	if v, ok := _c.mutation.ConnectionID(); ok {
		if err := streak.ConnectionIDValidator(v); err != nil {
			return &ValidationError{Name: "connection_id", err: fmt.Errorf(`generated: validator failed for field "Streak.connection_id": %w`, err)}
		}
	}
	if _, ok := _c.mutation.StreakState(); !ok {
		return &ValidationError{Name: "streak_state", err: errors.New(`generated: missing required field "Streak.streak_state"`)}
	}
	if v, ok := _c.mutation.StreakState(); ok {
		if err := streak.StreakStateValidator(v); err != nil {
			return &ValidationError{Name: "streak_state", err: fmt.Errorf(`generated: validator failed for field "Streak.streak_state": %w`, err)}
		}
	}
	if _, ok := _c.mutation.CurrentDay(); !ok {
		return &ValidationError{Name: "current_day", err: errors.New(`generated: missing required field "Streak.current_day"`)}
	}
	if v, ok := _c.mutation.CurrentDay(); ok {
		if err := streak.CurrentDayValidator(v); err != nil {
			return &ValidationError{Name: "current_day", err: fmt.Errorf(`generated: validator failed for field "Streak.current_day": %w`, err)}
		}
	}
	if _, ok := _c.mutation.ResetCount(); !ok {
		return &ValidationError{Name: "reset_count", err: errors.New(`generated: missing required field "Streak.reset_count"`)}
	}
	if v, ok := _c.mutation.BreakerUserID(); ok {
		if err := streak.BreakerUserIDValidator(v); err != nil {
			return &ValidationError{Name: "breaker_user_id", err: fmt.Errorf(`generated: validator failed for field "Streak.breaker_user_id": %w`, err)}
		}
	}
	if v, ok := _c.mutation.RecoveryPaymentID(); ok {
		if err := streak.RecoveryPaymentIDValidator(v); err != nil {
			return &ValidationError{Name: "recovery_payment_id", err: fmt.Errorf(`generated: validator failed for field "Streak.recovery_payment_id": %w`, err)}
		}
	}
	if _, ok := _c.mutation.CreatedAt(); !ok {
		return &ValidationError{Name: "created_at", err: errors.New(`generated: missing required field "Streak.created_at"`)}
	}
	if _, ok := _c.mutation.UpdatedAt(); !ok {
		return &ValidationError{Name: "updated_at", err: errors.New(`generated: missing required field "Streak.updated_at"`)}
	}
	if v, ok := _c.mutation.ID(); ok {
		if err := streak.IDValidator(v); err != nil {
			return &ValidationError{Name: "id", err: fmt.Errorf(`generated: validator failed for field "Streak.id": %w`, err)}
		}
	}
	if len(_c.mutation.ConnectionIDs()) == 0 {
		return &ValidationError{Name: "connection", err: errors.New(`generated: missing required edge "Streak.connection"`)}
	}
	return nil
}

func (_c *StreakCreate) sqlSave(ctx context.Context) (*Streak, error) {
	if err := _c.check(); err != nil {
		return nil, err
	}
	_node, _spec := _c.createSpec()
	if err := sqlgraph.CreateNode(ctx, _c.driver, _spec); err != nil {
		if sqlgraph.IsConstraintError(err) {
			err = &ConstraintError{msg: err.Error(), wrap: err}
		}
		return nil, err
	}
	if _spec.ID.Value != nil {
		if id, ok := _spec.ID.Value.(string); ok {
			_node.ID = id
		} else {
			return nil, fmt.Errorf("unexpected Streak.ID type: %T", _spec.ID.Value)
		}
	}
	_c.mutation.id = &_node.ID
	_c.mutation.done = true
	return _node, nil
}

func (_c *StreakCreate) createSpec() (*Streak, *sqlgraph.CreateSpec) {
	var (
		_node = &Streak{config: _c.config}
		_spec = sqlgraph.NewCreateSpec(streak.Table, sqlgraph.NewFieldSpec(streak.FieldID, field.TypeString))
	)
	_spec.OnConflict = _c.conflict
	if id, ok := _c.mutation.ID(); ok {
		_node.ID = id
		_spec.ID.Value = id
	}
	if value, ok := _c.mutation.StreakState(); ok {
		_spec.SetField(streak.FieldStreakState, field.TypeEnum, value)
		_node.StreakState = value
	}
	if value, ok := _c.mutation.CurrentDay(); ok {
		_spec.SetField(streak.FieldCurrentDay, field.TypeInt, value)
		_node.CurrentDay = value
	}
	if value, ok := _c.mutation.ResetCount(); ok {
		_spec.SetField(streak.FieldResetCount, field.TypeInt, value)
		_node.ResetCount = value
	}
	if value, ok := _c.mutation.RecoveryDeadlineAt(); ok {
		_spec.SetField(streak.FieldRecoveryDeadlineAt, field.TypeTime, value)
		_node.RecoveryDeadlineAt = &value
	}
	if value, ok := _c.mutation.RecoveryPaymentID(); ok {
		_spec.SetField(streak.FieldRecoveryPaymentID, field.TypeString, value)
		_node.RecoveryPaymentID = &value
	}
	if value, ok := _c.mutation.StreakHealthScore(); ok {
		_spec.SetField(streak.FieldStreakHealthScore, field.TypeFloat64, value)
		_node.StreakHealthScore = &value
	}
	if value, ok := _c.mutation.CreatedAt(); ok {
		_spec.SetField(streak.FieldCreatedAt, field.TypeTime, value)
		_node.CreatedAt = value
	}
	if value, ok := _c.mutation.UpdatedAt(); ok {
		_spec.SetField(streak.FieldUpdatedAt, field.TypeTime, value)
		_node.UpdatedAt = value
	}
	if value, ok := _c.mutation.CompletedAt(); ok {
		_spec.SetField(streak.FieldCompletedAt, field.TypeTime, value)
		_node.CompletedAt = &value
	}
	if value, ok := _c.mutation.DeletedAt(); ok {
		_spec.SetField(streak.FieldDeletedAt, field.TypeTime, value)
		_node.DeletedAt = &value
	}
	if nodes := _c.mutation.ConnectionIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2O,
			Inverse: true,
			Table:   streak.ConnectionTable,
			Columns: []string{streak.ConnectionColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(connection.FieldID, field.TypeString),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_node.ConnectionID = nodes[0]
		_spec.Edges = append(_spec.Edges, edge)
	}
	if nodes := _c.mutation.BreakerIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: true,
			Table:   streak.BreakerTable,
			Columns: []string{streak.BreakerColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(user.FieldID, field.TypeString),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_node.BreakerUserID = &nodes[0]
		_spec.Edges = append(_spec.Edges, edge)
	}
	if nodes := _c.mutation.CheckInsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   streak.CheckInsTable,
			Columns: []string{streak.CheckInsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(checkin.FieldID, field.TypeString),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges = append(_spec.Edges, edge)
	}
	if nodes := _c.mutation.NudgesIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   streak.NudgesTable,
			Columns: []string{streak.NudgesColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(nudge.FieldID, field.TypeString),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges = append(_spec.Edges, edge)
	}
	return _node, _spec
}

// OnConflict allows configuring the `ON CONFLICT` / `ON DUPLICATE KEY` clause
// of the `INSERT` statement. For example:
//
//	client.Streak.Create().
//		SetConnectionID(v).
//		OnConflict(
//			// Update the row with the new values
//			// the was proposed for insertion.
//			sql.ResolveWithNewValues(),
//		).
//		// Override some of the fields with custom
//		// update values.
//		Update(func(u *ent.StreakUpsert) {
//			SetConnectionID(v+v).
//		}).
//		Exec(ctx)
func (_c *StreakCreate) OnConflict(opts ...sql.ConflictOption) *StreakUpsertOne {
	_c.conflict = opts
	return &StreakUpsertOne{
		create: _c,
	}
}

// OnConflictColumns calls `OnConflict` and configures the columns
// as conflict target. Using this option is equivalent to using:
//
//	client.Streak.Create().
//		OnConflict(sql.ConflictColumns(columns...)).
//		Exec(ctx)
func (_c *StreakCreate) OnConflictColumns(columns ...string) *StreakUpsertOne {
	_c.conflict = append(_c.conflict, sql.ConflictColumns(columns...))
	return &StreakUpsertOne{
		create: _c,
	}
}

type (
	// StreakUpsertOne is the builder for "upsert"-ing
	//  one Streak node.
	StreakUpsertOne struct {
		create *StreakCreate
	}

	// StreakUpsert is the "OnConflict" setter.
	StreakUpsert struct {
		*sql.UpdateSet
	}
)

// SetConnectionID sets the "connection_id" field.
func (u *StreakUpsert) SetConnectionID(v string) *StreakUpsert {
	u.Set(streak.FieldConnectionID, v)
	return u
}

// UpdateConnectionID sets the "connection_id" field to the value that was provided on create.
func (u *StreakUpsert) UpdateConnectionID() *StreakUpsert {
	u.SetExcluded(streak.FieldConnectionID)
	return u
}

// SetStreakState sets the "streak_state" field.
func (u *StreakUpsert) SetStreakState(v streak.StreakState) *StreakUpsert {
	u.Set(streak.FieldStreakState, v)
	return u
}

// UpdateStreakState sets the "streak_state" field to the value that was provided on create.
func (u *StreakUpsert) UpdateStreakState() *StreakUpsert {
	u.SetExcluded(streak.FieldStreakState)
	return u
}

// SetCurrentDay sets the "current_day" field.
func (u *StreakUpsert) SetCurrentDay(v int) *StreakUpsert {
	u.Set(streak.FieldCurrentDay, v)
	return u
}

// UpdateCurrentDay sets the "current_day" field to the value that was provided on create.
func (u *StreakUpsert) UpdateCurrentDay() *StreakUpsert {
	u.SetExcluded(streak.FieldCurrentDay)
	return u
}

// AddCurrentDay adds v to the "current_day" field.
func (u *StreakUpsert) AddCurrentDay(v int) *StreakUpsert {
	u.Add(streak.FieldCurrentDay, v)
	return u
}

// SetResetCount sets the "reset_count" field.
func (u *StreakUpsert) SetResetCount(v int) *StreakUpsert {
	u.Set(streak.FieldResetCount, v)
	return u
}

// UpdateResetCount sets the "reset_count" field to the value that was provided on create.
func (u *StreakUpsert) UpdateResetCount() *StreakUpsert {
	u.SetExcluded(streak.FieldResetCount)
	return u
}

// AddResetCount adds v to the "reset_count" field.
func (u *StreakUpsert) AddResetCount(v int) *StreakUpsert {
	u.Add(streak.FieldResetCount, v)
	return u
}

// SetBreakerUserID sets the "breaker_user_id" field.
func (u *StreakUpsert) SetBreakerUserID(v string) *StreakUpsert {
	u.Set(streak.FieldBreakerUserID, v)
	return u
}

// UpdateBreakerUserID sets the "breaker_user_id" field to the value that was provided on create.
func (u *StreakUpsert) UpdateBreakerUserID() *StreakUpsert {
	u.SetExcluded(streak.FieldBreakerUserID)
	return u
}

// ClearBreakerUserID clears the value of the "breaker_user_id" field.
func (u *StreakUpsert) ClearBreakerUserID() *StreakUpsert {
	u.SetNull(streak.FieldBreakerUserID)
	return u
}

// SetRecoveryDeadlineAt sets the "recovery_deadline_at" field.
func (u *StreakUpsert) SetRecoveryDeadlineAt(v time.Time) *StreakUpsert {
	u.Set(streak.FieldRecoveryDeadlineAt, v)
	return u
}

// UpdateRecoveryDeadlineAt sets the "recovery_deadline_at" field to the value that was provided on create.
func (u *StreakUpsert) UpdateRecoveryDeadlineAt() *StreakUpsert {
	u.SetExcluded(streak.FieldRecoveryDeadlineAt)
	return u
}

// ClearRecoveryDeadlineAt clears the value of the "recovery_deadline_at" field.
func (u *StreakUpsert) ClearRecoveryDeadlineAt() *StreakUpsert {
	u.SetNull(streak.FieldRecoveryDeadlineAt)
	return u
}

// SetRecoveryPaymentID sets the "recovery_payment_id" field.
func (u *StreakUpsert) SetRecoveryPaymentID(v string) *StreakUpsert {
	u.Set(streak.FieldRecoveryPaymentID, v)
	return u
}

// UpdateRecoveryPaymentID sets the "recovery_payment_id" field to the value that was provided on create.
func (u *StreakUpsert) UpdateRecoveryPaymentID() *StreakUpsert {
	u.SetExcluded(streak.FieldRecoveryPaymentID)
	return u
}

// ClearRecoveryPaymentID clears the value of the "recovery_payment_id" field.
func (u *StreakUpsert) ClearRecoveryPaymentID() *StreakUpsert {
	u.SetNull(streak.FieldRecoveryPaymentID)
	return u
}

// SetStreakHealthScore sets the "streak_health_score" field.
func (u *StreakUpsert) SetStreakHealthScore(v float64) *StreakUpsert {
	u.Set(streak.FieldStreakHealthScore, v)
	return u
}

// UpdateStreakHealthScore sets the "streak_health_score" field to the value that was provided on create.
func (u *StreakUpsert) UpdateStreakHealthScore() *StreakUpsert {
	u.SetExcluded(streak.FieldStreakHealthScore)
	return u
}

// AddStreakHealthScore adds v to the "streak_health_score" field.
func (u *StreakUpsert) AddStreakHealthScore(v float64) *StreakUpsert {
	u.Add(streak.FieldStreakHealthScore, v)
	return u
}

// ClearStreakHealthScore clears the value of the "streak_health_score" field.
func (u *StreakUpsert) ClearStreakHealthScore() *StreakUpsert {
	u.SetNull(streak.FieldStreakHealthScore)
	return u
}

// SetUpdatedAt sets the "updated_at" field.
func (u *StreakUpsert) SetUpdatedAt(v time.Time) *StreakUpsert {
	u.Set(streak.FieldUpdatedAt, v)
	return u
}

// UpdateUpdatedAt sets the "updated_at" field to the value that was provided on create.
func (u *StreakUpsert) UpdateUpdatedAt() *StreakUpsert {
	u.SetExcluded(streak.FieldUpdatedAt)
	return u
}

// SetCompletedAt sets the "completed_at" field.
func (u *StreakUpsert) SetCompletedAt(v time.Time) *StreakUpsert {
	u.Set(streak.FieldCompletedAt, v)
	return u
}

// UpdateCompletedAt sets the "completed_at" field to the value that was provided on create.
func (u *StreakUpsert) UpdateCompletedAt() *StreakUpsert {
	u.SetExcluded(streak.FieldCompletedAt)
	return u
}

// ClearCompletedAt clears the value of the "completed_at" field.
func (u *StreakUpsert) ClearCompletedAt() *StreakUpsert {
	u.SetNull(streak.FieldCompletedAt)
	return u
}

// SetDeletedAt sets the "deleted_at" field.
func (u *StreakUpsert) SetDeletedAt(v time.Time) *StreakUpsert {
	u.Set(streak.FieldDeletedAt, v)
	return u
}

// UpdateDeletedAt sets the "deleted_at" field to the value that was provided on create.
func (u *StreakUpsert) UpdateDeletedAt() *StreakUpsert {
	u.SetExcluded(streak.FieldDeletedAt)
	return u
}

// ClearDeletedAt clears the value of the "deleted_at" field.
func (u *StreakUpsert) ClearDeletedAt() *StreakUpsert {
	u.SetNull(streak.FieldDeletedAt)
	return u
}

// UpdateNewValues updates the mutable fields using the new values that were set on create except the ID field.
// Using this option is equivalent to using:
//
//	client.Streak.Create().
//		OnConflict(
//			sql.ResolveWithNewValues(),
//			sql.ResolveWith(func(u *sql.UpdateSet) {
//				u.SetIgnore(streak.FieldID)
//			}),
//		).
//		Exec(ctx)
func (u *StreakUpsertOne) UpdateNewValues() *StreakUpsertOne {
	u.create.conflict = append(u.create.conflict, sql.ResolveWithNewValues())
	u.create.conflict = append(u.create.conflict, sql.ResolveWith(func(s *sql.UpdateSet) {
		if _, exists := u.create.mutation.ID(); exists {
			s.SetIgnore(streak.FieldID)
		}
		if _, exists := u.create.mutation.CreatedAt(); exists {
			s.SetIgnore(streak.FieldCreatedAt)
		}
	}))
	return u
}

// Ignore sets each column to itself in case of conflict.
// Using this option is equivalent to using:
//
//	client.Streak.Create().
//	    OnConflict(sql.ResolveWithIgnore()).
//	    Exec(ctx)
func (u *StreakUpsertOne) Ignore() *StreakUpsertOne {
	u.create.conflict = append(u.create.conflict, sql.ResolveWithIgnore())
	return u
}

// DoNothing configures the conflict_action to `DO NOTHING`.
// Supported only by SQLite and PostgreSQL.
func (u *StreakUpsertOne) DoNothing() *StreakUpsertOne {
	u.create.conflict = append(u.create.conflict, sql.DoNothing())
	return u
}

// Update allows overriding fields `UPDATE` values. See the StreakCreate.OnConflict
// documentation for more info.
func (u *StreakUpsertOne) Update(set func(*StreakUpsert)) *StreakUpsertOne {
	u.create.conflict = append(u.create.conflict, sql.ResolveWith(func(update *sql.UpdateSet) {
		set(&StreakUpsert{UpdateSet: update})
	}))
	return u
}

// SetConnectionID sets the "connection_id" field.
func (u *StreakUpsertOne) SetConnectionID(v string) *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.SetConnectionID(v)
	})
}

// UpdateConnectionID sets the "connection_id" field to the value that was provided on create.
func (u *StreakUpsertOne) UpdateConnectionID() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateConnectionID()
	})
}

// SetStreakState sets the "streak_state" field.
func (u *StreakUpsertOne) SetStreakState(v streak.StreakState) *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.SetStreakState(v)
	})
}

// UpdateStreakState sets the "streak_state" field to the value that was provided on create.
func (u *StreakUpsertOne) UpdateStreakState() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateStreakState()
	})
}

// SetCurrentDay sets the "current_day" field.
func (u *StreakUpsertOne) SetCurrentDay(v int) *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.SetCurrentDay(v)
	})
}

// AddCurrentDay adds v to the "current_day" field.
func (u *StreakUpsertOne) AddCurrentDay(v int) *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.AddCurrentDay(v)
	})
}

// UpdateCurrentDay sets the "current_day" field to the value that was provided on create.
func (u *StreakUpsertOne) UpdateCurrentDay() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateCurrentDay()
	})
}

// SetResetCount sets the "reset_count" field.
func (u *StreakUpsertOne) SetResetCount(v int) *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.SetResetCount(v)
	})
}

// AddResetCount adds v to the "reset_count" field.
func (u *StreakUpsertOne) AddResetCount(v int) *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.AddResetCount(v)
	})
}

// UpdateResetCount sets the "reset_count" field to the value that was provided on create.
func (u *StreakUpsertOne) UpdateResetCount() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateResetCount()
	})
}

// SetBreakerUserID sets the "breaker_user_id" field.
func (u *StreakUpsertOne) SetBreakerUserID(v string) *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.SetBreakerUserID(v)
	})
}

// UpdateBreakerUserID sets the "breaker_user_id" field to the value that was provided on create.
func (u *StreakUpsertOne) UpdateBreakerUserID() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateBreakerUserID()
	})
}

// ClearBreakerUserID clears the value of the "breaker_user_id" field.
func (u *StreakUpsertOne) ClearBreakerUserID() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.ClearBreakerUserID()
	})
}

// SetRecoveryDeadlineAt sets the "recovery_deadline_at" field.
func (u *StreakUpsertOne) SetRecoveryDeadlineAt(v time.Time) *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.SetRecoveryDeadlineAt(v)
	})
}

// UpdateRecoveryDeadlineAt sets the "recovery_deadline_at" field to the value that was provided on create.
func (u *StreakUpsertOne) UpdateRecoveryDeadlineAt() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateRecoveryDeadlineAt()
	})
}

// ClearRecoveryDeadlineAt clears the value of the "recovery_deadline_at" field.
func (u *StreakUpsertOne) ClearRecoveryDeadlineAt() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.ClearRecoveryDeadlineAt()
	})
}

// SetRecoveryPaymentID sets the "recovery_payment_id" field.
func (u *StreakUpsertOne) SetRecoveryPaymentID(v string) *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.SetRecoveryPaymentID(v)
	})
}

// UpdateRecoveryPaymentID sets the "recovery_payment_id" field to the value that was provided on create.
func (u *StreakUpsertOne) UpdateRecoveryPaymentID() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateRecoveryPaymentID()
	})
}

// ClearRecoveryPaymentID clears the value of the "recovery_payment_id" field.
func (u *StreakUpsertOne) ClearRecoveryPaymentID() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.ClearRecoveryPaymentID()
	})
}

// SetStreakHealthScore sets the "streak_health_score" field.
func (u *StreakUpsertOne) SetStreakHealthScore(v float64) *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.SetStreakHealthScore(v)
	})
}

// AddStreakHealthScore adds v to the "streak_health_score" field.
func (u *StreakUpsertOne) AddStreakHealthScore(v float64) *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.AddStreakHealthScore(v)
	})
}

// UpdateStreakHealthScore sets the "streak_health_score" field to the value that was provided on create.
func (u *StreakUpsertOne) UpdateStreakHealthScore() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateStreakHealthScore()
	})
}

// ClearStreakHealthScore clears the value of the "streak_health_score" field.
func (u *StreakUpsertOne) ClearStreakHealthScore() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.ClearStreakHealthScore()
	})
}

// SetUpdatedAt sets the "updated_at" field.
func (u *StreakUpsertOne) SetUpdatedAt(v time.Time) *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.SetUpdatedAt(v)
	})
}

// UpdateUpdatedAt sets the "updated_at" field to the value that was provided on create.
func (u *StreakUpsertOne) UpdateUpdatedAt() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateUpdatedAt()
	})
}

// SetCompletedAt sets the "completed_at" field.
func (u *StreakUpsertOne) SetCompletedAt(v time.Time) *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.SetCompletedAt(v)
	})
}

// UpdateCompletedAt sets the "completed_at" field to the value that was provided on create.
func (u *StreakUpsertOne) UpdateCompletedAt() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateCompletedAt()
	})
}

// ClearCompletedAt clears the value of the "completed_at" field.
func (u *StreakUpsertOne) ClearCompletedAt() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.ClearCompletedAt()
	})
}

// SetDeletedAt sets the "deleted_at" field.
func (u *StreakUpsertOne) SetDeletedAt(v time.Time) *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.SetDeletedAt(v)
	})
}

// UpdateDeletedAt sets the "deleted_at" field to the value that was provided on create.
func (u *StreakUpsertOne) UpdateDeletedAt() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateDeletedAt()
	})
}

// ClearDeletedAt clears the value of the "deleted_at" field.
func (u *StreakUpsertOne) ClearDeletedAt() *StreakUpsertOne {
	return u.Update(func(s *StreakUpsert) {
		s.ClearDeletedAt()
	})
}

// Exec executes the query.
func (u *StreakUpsertOne) Exec(ctx context.Context) error {
	if len(u.create.conflict) == 0 {
		return errors.New("generated: missing options for StreakCreate.OnConflict")
	}
	return u.create.Exec(ctx)
}

// ExecX is like Exec, but panics if an error occurs.
func (u *StreakUpsertOne) ExecX(ctx context.Context) {
	if err := u.create.Exec(ctx); err != nil {
		panic(err)
	}
}

// Exec executes the UPSERT query and returns the inserted/updated ID.
func (u *StreakUpsertOne) ID(ctx context.Context) (id string, err error) {
	if u.create.driver.Dialect() == dialect.MySQL {
		// In case of "ON CONFLICT", there is no way to get back non-numeric ID
		// fields from the database since MySQL does not support the RETURNING clause.
		return id, errors.New("generated: StreakUpsertOne.ID is not supported by MySQL driver. Use StreakUpsertOne.Exec instead")
	}
	node, err := u.create.Save(ctx)
	if err != nil {
		return id, err
	}
	return node.ID, nil
}

// IDX is like ID, but panics if an error occurs.
func (u *StreakUpsertOne) IDX(ctx context.Context) string {
	id, err := u.ID(ctx)
	if err != nil {
		panic(err)
	}
	return id
}

// StreakCreateBulk is the builder for creating many Streak entities in bulk.
type StreakCreateBulk struct {
	config
	err      error
	builders []*StreakCreate
	conflict []sql.ConflictOption
}

// Save creates the Streak entities in the database.
func (_c *StreakCreateBulk) Save(ctx context.Context) ([]*Streak, error) {
	if _c.err != nil {
		return nil, _c.err
	}
	specs := make([]*sqlgraph.CreateSpec, len(_c.builders))
	nodes := make([]*Streak, len(_c.builders))
	mutators := make([]Mutator, len(_c.builders))
	for i := range _c.builders {
		func(i int, root context.Context) {
			builder := _c.builders[i]
			builder.defaults()
			var mut Mutator = MutateFunc(func(ctx context.Context, m Mutation) (Value, error) {
				mutation, ok := m.(*StreakMutation)
				if !ok {
					return nil, fmt.Errorf("unexpected mutation type %T", m)
				}
				if err := builder.check(); err != nil {
					return nil, err
				}
				builder.mutation = mutation
				var err error
				nodes[i], specs[i] = builder.createSpec()
				if i < len(mutators)-1 {
					_, err = mutators[i+1].Mutate(root, _c.builders[i+1].mutation)
				} else {
					spec := &sqlgraph.BatchCreateSpec{Nodes: specs}
					spec.OnConflict = _c.conflict
					// Invoke the actual operation on the latest mutation in the chain.
					if err = sqlgraph.BatchCreate(ctx, _c.driver, spec); err != nil {
						if sqlgraph.IsConstraintError(err) {
							err = &ConstraintError{msg: err.Error(), wrap: err}
						}
					}
				}
				if err != nil {
					return nil, err
				}
				mutation.id = &nodes[i].ID
				mutation.done = true
				return nodes[i], nil
			})
			for i := len(builder.hooks) - 1; i >= 0; i-- {
				mut = builder.hooks[i](mut)
			}
			mutators[i] = mut
		}(i, ctx)
	}
	if len(mutators) > 0 {
		if _, err := mutators[0].Mutate(ctx, _c.builders[0].mutation); err != nil {
			return nil, err
		}
	}
	return nodes, nil
}

// SaveX is like Save, but panics if an error occurs.
func (_c *StreakCreateBulk) SaveX(ctx context.Context) []*Streak {
	v, err := _c.Save(ctx)
	if err != nil {
		panic(err)
	}
	return v
}

// Exec executes the query.
func (_c *StreakCreateBulk) Exec(ctx context.Context) error {
	_, err := _c.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_c *StreakCreateBulk) ExecX(ctx context.Context) {
	if err := _c.Exec(ctx); err != nil {
		panic(err)
	}
}

// OnConflict allows configuring the `ON CONFLICT` / `ON DUPLICATE KEY` clause
// of the `INSERT` statement. For example:
//
//	client.Streak.CreateBulk(builders...).
//		OnConflict(
//			// Update the row with the new values
//			// the was proposed for insertion.
//			sql.ResolveWithNewValues(),
//		).
//		// Override some of the fields with custom
//		// update values.
//		Update(func(u *ent.StreakUpsert) {
//			SetConnectionID(v+v).
//		}).
//		Exec(ctx)
func (_c *StreakCreateBulk) OnConflict(opts ...sql.ConflictOption) *StreakUpsertBulk {
	_c.conflict = opts
	return &StreakUpsertBulk{
		create: _c,
	}
}

// OnConflictColumns calls `OnConflict` and configures the columns
// as conflict target. Using this option is equivalent to using:
//
//	client.Streak.Create().
//		OnConflict(sql.ConflictColumns(columns...)).
//		Exec(ctx)
func (_c *StreakCreateBulk) OnConflictColumns(columns ...string) *StreakUpsertBulk {
	_c.conflict = append(_c.conflict, sql.ConflictColumns(columns...))
	return &StreakUpsertBulk{
		create: _c,
	}
}

// StreakUpsertBulk is the builder for "upsert"-ing
// a bulk of Streak nodes.
type StreakUpsertBulk struct {
	create *StreakCreateBulk
}

// UpdateNewValues updates the mutable fields using the new values that
// were set on create. Using this option is equivalent to using:
//
//	client.Streak.Create().
//		OnConflict(
//			sql.ResolveWithNewValues(),
//			sql.ResolveWith(func(u *sql.UpdateSet) {
//				u.SetIgnore(streak.FieldID)
//			}),
//		).
//		Exec(ctx)
func (u *StreakUpsertBulk) UpdateNewValues() *StreakUpsertBulk {
	u.create.conflict = append(u.create.conflict, sql.ResolveWithNewValues())
	u.create.conflict = append(u.create.conflict, sql.ResolveWith(func(s *sql.UpdateSet) {
		for _, b := range u.create.builders {
			if _, exists := b.mutation.ID(); exists {
				s.SetIgnore(streak.FieldID)
			}
			if _, exists := b.mutation.CreatedAt(); exists {
				s.SetIgnore(streak.FieldCreatedAt)
			}
		}
	}))
	return u
}

// Ignore sets each column to itself in case of conflict.
// Using this option is equivalent to using:
//
//	client.Streak.Create().
//		OnConflict(sql.ResolveWithIgnore()).
//		Exec(ctx)
func (u *StreakUpsertBulk) Ignore() *StreakUpsertBulk {
	u.create.conflict = append(u.create.conflict, sql.ResolveWithIgnore())
	return u
}

// DoNothing configures the conflict_action to `DO NOTHING`.
// Supported only by SQLite and PostgreSQL.
func (u *StreakUpsertBulk) DoNothing() *StreakUpsertBulk {
	u.create.conflict = append(u.create.conflict, sql.DoNothing())
	return u
}

// Update allows overriding fields `UPDATE` values. See the StreakCreateBulk.OnConflict
// documentation for more info.
func (u *StreakUpsertBulk) Update(set func(*StreakUpsert)) *StreakUpsertBulk {
	u.create.conflict = append(u.create.conflict, sql.ResolveWith(func(update *sql.UpdateSet) {
		set(&StreakUpsert{UpdateSet: update})
	}))
	return u
}

// SetConnectionID sets the "connection_id" field.
func (u *StreakUpsertBulk) SetConnectionID(v string) *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.SetConnectionID(v)
	})
}

// UpdateConnectionID sets the "connection_id" field to the value that was provided on create.
func (u *StreakUpsertBulk) UpdateConnectionID() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateConnectionID()
	})
}

// SetStreakState sets the "streak_state" field.
func (u *StreakUpsertBulk) SetStreakState(v streak.StreakState) *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.SetStreakState(v)
	})
}

// UpdateStreakState sets the "streak_state" field to the value that was provided on create.
func (u *StreakUpsertBulk) UpdateStreakState() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateStreakState()
	})
}

// SetCurrentDay sets the "current_day" field.
func (u *StreakUpsertBulk) SetCurrentDay(v int) *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.SetCurrentDay(v)
	})
}

// AddCurrentDay adds v to the "current_day" field.
func (u *StreakUpsertBulk) AddCurrentDay(v int) *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.AddCurrentDay(v)
	})
}

// UpdateCurrentDay sets the "current_day" field to the value that was provided on create.
func (u *StreakUpsertBulk) UpdateCurrentDay() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateCurrentDay()
	})
}

// SetResetCount sets the "reset_count" field.
func (u *StreakUpsertBulk) SetResetCount(v int) *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.SetResetCount(v)
	})
}

// AddResetCount adds v to the "reset_count" field.
func (u *StreakUpsertBulk) AddResetCount(v int) *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.AddResetCount(v)
	})
}

// UpdateResetCount sets the "reset_count" field to the value that was provided on create.
func (u *StreakUpsertBulk) UpdateResetCount() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateResetCount()
	})
}

// SetBreakerUserID sets the "breaker_user_id" field.
func (u *StreakUpsertBulk) SetBreakerUserID(v string) *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.SetBreakerUserID(v)
	})
}

// UpdateBreakerUserID sets the "breaker_user_id" field to the value that was provided on create.
func (u *StreakUpsertBulk) UpdateBreakerUserID() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateBreakerUserID()
	})
}

// ClearBreakerUserID clears the value of the "breaker_user_id" field.
func (u *StreakUpsertBulk) ClearBreakerUserID() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.ClearBreakerUserID()
	})
}

// SetRecoveryDeadlineAt sets the "recovery_deadline_at" field.
func (u *StreakUpsertBulk) SetRecoveryDeadlineAt(v time.Time) *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.SetRecoveryDeadlineAt(v)
	})
}

// UpdateRecoveryDeadlineAt sets the "recovery_deadline_at" field to the value that was provided on create.
func (u *StreakUpsertBulk) UpdateRecoveryDeadlineAt() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateRecoveryDeadlineAt()
	})
}

// ClearRecoveryDeadlineAt clears the value of the "recovery_deadline_at" field.
func (u *StreakUpsertBulk) ClearRecoveryDeadlineAt() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.ClearRecoveryDeadlineAt()
	})
}

// SetRecoveryPaymentID sets the "recovery_payment_id" field.
func (u *StreakUpsertBulk) SetRecoveryPaymentID(v string) *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.SetRecoveryPaymentID(v)
	})
}

// UpdateRecoveryPaymentID sets the "recovery_payment_id" field to the value that was provided on create.
func (u *StreakUpsertBulk) UpdateRecoveryPaymentID() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateRecoveryPaymentID()
	})
}

// ClearRecoveryPaymentID clears the value of the "recovery_payment_id" field.
func (u *StreakUpsertBulk) ClearRecoveryPaymentID() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.ClearRecoveryPaymentID()
	})
}

// SetStreakHealthScore sets the "streak_health_score" field.
func (u *StreakUpsertBulk) SetStreakHealthScore(v float64) *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.SetStreakHealthScore(v)
	})
}

// AddStreakHealthScore adds v to the "streak_health_score" field.
func (u *StreakUpsertBulk) AddStreakHealthScore(v float64) *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.AddStreakHealthScore(v)
	})
}

// UpdateStreakHealthScore sets the "streak_health_score" field to the value that was provided on create.
func (u *StreakUpsertBulk) UpdateStreakHealthScore() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateStreakHealthScore()
	})
}

// ClearStreakHealthScore clears the value of the "streak_health_score" field.
func (u *StreakUpsertBulk) ClearStreakHealthScore() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.ClearStreakHealthScore()
	})
}

// SetUpdatedAt sets the "updated_at" field.
func (u *StreakUpsertBulk) SetUpdatedAt(v time.Time) *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.SetUpdatedAt(v)
	})
}

// UpdateUpdatedAt sets the "updated_at" field to the value that was provided on create.
func (u *StreakUpsertBulk) UpdateUpdatedAt() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateUpdatedAt()
	})
}

// SetCompletedAt sets the "completed_at" field.
func (u *StreakUpsertBulk) SetCompletedAt(v time.Time) *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.SetCompletedAt(v)
	})
}

// UpdateCompletedAt sets the "completed_at" field to the value that was provided on create.
func (u *StreakUpsertBulk) UpdateCompletedAt() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateCompletedAt()
	})
}

// ClearCompletedAt clears the value of the "completed_at" field.
func (u *StreakUpsertBulk) ClearCompletedAt() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.ClearCompletedAt()
	})
}

// SetDeletedAt sets the "deleted_at" field.
func (u *StreakUpsertBulk) SetDeletedAt(v time.Time) *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.SetDeletedAt(v)
	})
}

// UpdateDeletedAt sets the "deleted_at" field to the value that was provided on create.
func (u *StreakUpsertBulk) UpdateDeletedAt() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.UpdateDeletedAt()
	})
}

// ClearDeletedAt clears the value of the "deleted_at" field.
func (u *StreakUpsertBulk) ClearDeletedAt() *StreakUpsertBulk {
	return u.Update(func(s *StreakUpsert) {
		s.ClearDeletedAt()
	})
}

// Exec executes the query.
func (u *StreakUpsertBulk) Exec(ctx context.Context) error {
	if u.create.err != nil {
		return u.create.err
	}
	for i, b := range u.create.builders {
		if len(b.conflict) != 0 {
			return fmt.Errorf("generated: OnConflict was set for builder %d. Set it on the StreakCreateBulk instead", i)
		}
	}
	if len(u.create.conflict) == 0 {
		return errors.New("generated: missing options for StreakCreateBulk.OnConflict")
	}
	return u.create.Exec(ctx)
}

// ExecX is like Exec, but panics if an error occurs.
func (u *StreakUpsertBulk) ExecX(ctx context.Context) {
	if err := u.create.Exec(ctx); err != nil {
		panic(err)
	}
}
